<!-- Pages -->
{% if pages is defined %}
  {% set page_list = pages %}
{% elif paginator is defined %}
  {% set page_list = paginator.pages %}
{% elif term is defined %}
  {% set page_list = term.pages %}
{% elif section is defined %}
  {% set page_list = section.pages %}
{% else %}
  {% set page_list = [] %}
{% endif %}

{% for page in page_list %}
<section class="page-list-item">
  {% if page.extra.cover.image %}
  <figure>
    <img src="{{ get_url(path=page.extra.cover.image) }}"
         alt="{{ page.extra.cover.alt | default(value='cover') }}"
         loading="lazy">
  </figure>
  {% endif %}

  <h2>{{ page.title }}</h2>
  
  <div class="page-summary">
    {% if page.description %}
    <p>{{ page.description }}</p>
    {% elif page.summary %}
    {{ page.summary | safe }}
    {% endif %}
  </div>

  {% include "partials/page_info.html" %}
  
  <a class="page-link" href="{{ page.permalink | safe }}">{{ page.title }}</a>
</section>
{% endfor %}

<!-- Main Nav -->
{% if paginator is defined and (paginator.previous or paginator.next) %}
<nav class="pagination-nav">
  {% if paginator.previous %}
  <a class="prev-page" href="{{ paginator.previous | safe }}">← Prev Page</a>
  {% endif %}
  {% if paginator.next %}
  <a class="next-page" href="{{ paginator.next | safe }}">Next Page →</a>
  {% endif %}
</nav>
{% endif %}
